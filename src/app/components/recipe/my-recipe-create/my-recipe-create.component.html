<my-generic-loader *ngIf="loading"></my-generic-loader>
<div class="container my-container">
  <form>
    <fieldset>
      <div class="row">
        <div class="col-sm-2"></div>
        <legend class="col-sm-10">
          <i class="fas fa-book"></i>
          <span class="my-margin-left">Ajouter une recette</span>
        </legend>
      </div>
      <div class="form-group row">
        <label for="inputRecipeName" class="col-sm-2 col-form-label">Nom</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="inputRecipeName" placeholder="Nom" [(ngModel)]="recipe.name" [ngModelOptions]="{standalone: true}">
        </div>
      </div>
      <div class="form-group row">
        <label for="inputRecipeDescription" class="col-sm-2 col-form-label">Description</label>
        <div class="col-sm-10">
          <textarea class="form-control" id="inputRecipeDescription" rows="10" placeholder="Description" [(ngModel)]="recipe.description" [ngModelOptions]="{standalone: true}"></textarea>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Difficulté</label>
        <div class="col-sm-10">
          <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-secondary" (click)="recipe.difficulty = 1">
              <input type="radio"> 1
            </label>
            <label class="btn btn-secondary" (click)="recipe.difficulty = 2">
              <input type="radio"> 2
            </label>
            <label class="btn btn-secondary" (click)="recipe.difficulty = 3">
              <input type="radio"> 3
            </label>
            <label class="btn btn-secondary" (click)="recipe.difficulty = 4">
              <input type="radio"> 4
            </label>
            <label class="btn btn-secondary" (click)="recipe.difficulty = 5">
              <input type="radio"> 5
            </label>
          </div>
        </div>
      </div>
      <div class="form-group row">
        <label for="inputRecipeTime" class="col-sm-2 col-form-label">Temps (min)</label>
        <div class="col-sm-10">
          <input type="number" class="form-control" id="inputRecipeTime" placeholder="Temps (min)" [(ngModel)]="recipe.time" [ngModelOptions]="{standalone: true}">
        </div>
      </div>
      <div class="form-group row">
        <label for="inputRecipeTime" class="col-sm-2 col-form-label">Temps (min)</label>
        <div class="col-sm-10">
          <ng-select [items]="ingredients"
          [dropdownPosition]="'auto'"
          bindLabel="name"
          bindValue="id"
          placeholder="Ajouter un ingrédient..."
          notFoundText="Aucun ingrédient trouvé"
          [(ngModel)]="selectedIngredientsId"
          [ngModelOptions]="{standalone: true}">
          </ng-select>
          <p>{{selectedIngredientsId}}</p>
        </div>
      </div>
    </fieldset>
    <div class="row">
      <div class="col-sm-2"></div>
      <div class="col-sm-10">
        <button [disabled]="isInvalidForm()" type="submit" class="btn btn-success" (click)="addRecipe()">Ajouter</button>
        <button class="btn btn-dark" (click)="goTo('/recipe')">Retour</button>
      </div>
    </div>
  </form>
</div>
